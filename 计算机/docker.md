## 概念  (就是一微型Linux虚拟机，里面有代码执行所需的环境，而虚拟机才能包容环境)
Docker 是一种开源的容器化平台，用于开发、部署和运行应用程序。它允许开发人员将应用程序及其依赖项打包到一个称为容器的轻量级、可移植的虚拟化单元中。Docker 的主要用途包括：

1. **应用程序隔离和打包**: Docker 允许开发人员将应用程序、运行时环境和依赖项打包到一个容器中。这使得应用程序的开发、测试和部署变得更加一致和可重复，因为容器包含了应用程序运行所需的所有组件。

2. **跨平台和环境一致性**: Docker 容器可以在任何支持 Docker 的操作系统上运行，而无需担心环境差异。这意味着开发人员可以在开发环境中构建容器，然后将其部署到生产环境中，而无需担心不同环境之间的配置差异。

3. **快速部署和扩展**: Docker 容器可以快速启动和停止，并且可以根据需求动态扩展。这使得部署新版本或增加/减少容器实例变得更加简单和高效。

4. **微服务架构**: Docker 容器为微服务架构提供了理想的基础。每个微服务可以打包到一个独立的容器中，这样可以实现更好的隔离性、可伸缩性和管理性。

5. **持续集成和持续部署 (CI/CD)**: Docker 可以与持续集成和持续部署工具集成，如Jenkins、GitLab CI、Travis CI 等，使得自动化构建、测试和部署变得更加简单和可靠。

总的来说，Docker 提供了一种方便、轻量级、可移植和高效的方式来构建、交付和运行应用程序，大大简化了开发人员和运维人员的工作流程。

## 举例

当然，以下是一些常见的使用 Docker 的示例：

1. **Web 应用程序部署**:
   - 使用 Docker 将 Web 应用程序打包到容器中，包括应用程序代码、运行时环境和依赖项。
   - 在本地开发环境中构建和测试容器。
   - 将容器部署到生产服务器上，无需担心不同服务器环境的差异。

2. **数据库服务**:
   - 使用 Docker 镜像部署数据库服务，如MySQL、PostgreSQL、MongoDB 等。
   - 通过 Docker 容器来管理不同版本的数据库实例，并且可以轻松地进行备份和恢复。

3. **微服务架构**:
   - 将不同的微服务打包到 Docker 容器中，每个微服务对应一个容器。
   - 使用 Docker 容器编排工具，如Kubernetes、Docker Swarm 等来管理和调度微服务。

4. **持续集成/持续部署 (CI/CD)**:
   - 在持续集成流水线中使用 Docker 容器来构建、测试和打包应用程序。
   - 使用容器镜像来部署应用程序到测试、预生产和生产环境。

5. **开发环境隔离**:
   - 每个开发人员可以在自己的开发环境中运行应用程序的 Docker 容器，而无需担心与其他开发人员的环境冲突。
   - 可以使用 Docker Compose 来定义和管理多容器的开发环境，包括应用程序、数据库、消息队列等。

如何使用 Docker 取决于你的具体需求和环境，但通常的步骤如下：

1. **安装 Docker**: 首先，在你的计算机或服务器上安装 Docker 平台，可以根据官方文档提供的指南来完成安装。

2. **获取 Docker 镜像**: 从 Docker Hub 或其他镜像仓库中获取你需要的 Docker 镜像，如官方提供的镜像或者自己构建的镜像。

3. **运行容器**: 使用 `docker run` 命令来创建和运行容器，指定所需的参数和选项，如端口映射、数据卷挂载等。

4. **管理容器**: 使用 `docker ps`, `docker stop`, `docker start` 等命令来管理容器的生命周期，查看容器的运行状态等。

5. **构建自定义镜像**: 如果需要，可以使用 Dockerfile 来定义自己的 Docker 镜像，然后使用 `docker build` 命令来构建镜像。

6. **使用 Docker Compose**: 对于多容器应用程序，可以使用 Docker Compose 来定义和管理多容器的应用程序，包括服务依赖关系、网络配置等。

以上是基本的使用 Docker 的步骤，具体的细节和操作可以根据实际情况和需求进行调整和扩展。


## 端口映射

Docker 端口映射是一种将容器内部的端口映射到主机上的特定端口的机制。这样可以使得容器内运行的服务可以通过主机的特定端口对外提供访问，从而实现容器与外部网络的通信。

要进行端口映射，可以使用 Docker 命令行工具或 Docker Compose 文件中的端口映射配置。下面是一些常用的方法：

### 使用 Docker 命令行工具
```bash
docker run -p 主机端口:容器端口 image_name
```
这条命令会将容器内部的 `容器端口` 映射到主机上的 `主机端口`，这样就可以通过主机的 `主机端口` 访问容器内的服务。

### 使用 Docker Compose 文件
在 Docker Compose 文件中，可以使用 `ports` 关键字来进行端口映射配置。示例：
```yaml
services:
  my_service:
    image: image_name
    ports:
      - "主机端口:容器端口"
```
这样配置后，使用 `docker-compose up` 启动容器时，端口映射就会生效。

### 多个端口映射
如果需要映射多个端口，可以在命令行工具或 Docker Compose 文件中使用多个 `-p` 参数或多个端口映射配置。

### 动态端口映射
有时候，也可以使用动态端口映射，让 Docker 自动选择一个未被占用的主机端口进行映射，例如：
```bash
docker run -p 容器端口 image_name
```

端口映射在 Docker 中是非常常见且重要的操作，它使得容器内的服务可以通过主机的端口与外部进行通信，提供了更加灵活和便捷的容器化应用部署方式。


## 提交容器副本使之成为一个新的镜像

docker commit -m="提交的描述信息" -a="作者" 容器ID 要创建的目标镜像名:[标签名]